<!DOCTYPE html>
<html lang="ru" translate="no">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=7; IE=Edge">
    <title>
        ILT
    </title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel='stylesheet' href='public/stylesheets/normalize.css'/>
    <link rel='stylesheet' href='public/stylesheets/style.css'/>

</head>
<body class="d-flex">

<div class="left-menu d-flex flex-column align-items-center justify-content-between">
    <a href="index.html" class="logo"><img src="public/images/logo.png" alt=""></a>
    <ul class="d-flex flex-column w-100">
        <li><a href="index.html"><img src="public/images/stats-inactive.png" alt=""></a></li>
        <li><a href="programms.html"><img src="public/images/maps-inactive.png" alt=""></a></li>
        <li class="active"><a href="tests.html"><img src="public/images/files.png" alt=""></a></li>
        <li><a href=""><img src="public/images/settings-inactive.png" alt=""></a></li>
    </ul>
    <a href="" class="faq"><img src="public/images/question.png" alt=""></a>
</div>

<div class="test">

<div class="upper-head d-flex align-items-center justify-content-between">
    <h1>Тесты</h1>
    <div class="d-flex align-items-center">
        <div class="timer d-flex align-items-center">
            <img class="mr-2" src="public/images/timer.png" alt="">
            <p>20 дней 16:20:59</p>
        </div>
        <div class="dropdown">
            <a class="bell mx-4" id="dropdownNotification" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <img class="bell-icon" src="public/images/bell.png" alt="">
                <img class="status-icon" src="public/images/status.png" alt="">
            </a>
            <div class="dropdown-menu dropdown-menu-right mt-4" aria-labelledby="dropdownNotification">
                <h2 class="mb-3">Уведомление</h2>
                <a class="dropdown-item d-flex align-items-center mb-3 mx-3">
                    <img class="svg-icon mr-1" src="public/images/bell.png" alt="">
                    <p>У вас пока нет уведомление</p>
                </a>
            </div>
        </div>
        <div class="dropdown">
            <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <img src="public/images/avatar.png" alt="">
            </button>
            <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton">
                <div class="d-flex align-items-center mb-2">
                    <img class="avatar-image" src="public/images/avatar.png" alt="">
                    <div class="d-flex flex-column">
                        <h2>Айым Мухаметкали</h2>
                        <p>Web designer</p>
                    </div>
                </div>
                <a class="dropdown-item d-flex align-items-center" href="profile.html"><img class="svg-icon" src="public/images/my-profile.svg" alt=""> Мой профиль</a>
                <a class="dropdown-item d-flex align-items-center" href="#"><img class="svg-icon" src="public/images/settings.svg" alt=""> Настройки</a>
                <a class="dropdown-item border-top d-flex align-items-center" href="authorization.html"><img class="svg-icon" src="public/images/sign-out.svg" alt=""> Выйти из аккаунта</a>
            </div>
        </div>
    </div>
</div>

<div class="container-fluid d-flex justify-content-center align-items-center">
    <div class="row">
        <div class="col-10 m-auto">
            <div class="d-flex flex-row align-items-center justify-content-between mb-30">
                <h1>Вопрос <span class="step"></span>!</h1>
                <h4>Оставшееся время 0:59:6</h4>
            </div>
            <div class="question-block d-flex flex-column w-100 h-auto">
                <!-- <form class="question-form" method="post" class="flex-column">
                    <h2 class="mb-30">Перечислите 5 правил, которыми руководствуется Дитер Рамс при создании дизайна.</h2>
                    <div class="d-flex justify-content-between mb-2">
                        <h5>Ваш ответ</h5>
                        <p class="step">1/10</p>
                    </div>
                    <div class="d-flex input-field mb-4">
                        <textarea type="text" class="form-control" rows="6">
1) Дизайн должен быть инновационным; 2) Дизайн должен быть вне времени; 3) Дизайн должен быть экологически чистым и не должен конфликтовать со средой; 4) Дизайн должен делать любой продукт удобным; 5) Дизайн должен делать продукт понятным.</textarea>
                    </div>
                    <div class="progress mb-30">
                        <div class="progress-bar w-10"></div>
                    </div>
                </form> -->

                <form class="question-form" method="post" class="flex-column">
                    <h2 class="question mb-30">Три вида структурирования мыслей при создании скетчей.</h2>
                    <div class="d-flex justify-content-between mb-2">
                        <h5>Ваш ответ</h5>
                        <p><span class="step"></span> / <span class="max"></span></p>
                    </div>
                    <div class="d-flex input-field mb-4">
                        <input type="text" class="form-control">
                    </div>
                    <div class="progress mb-30">
                        <div class="progress-bar"></div>
                    </div>
                </form>
                <div class="d-flex justify-content-between">
                    <a href="./tests.html" class="exit"> Выйти </a>
                    <a href="#" class="skip"> Следующий вопрос </a>
                    <a href="./test-result.html" class="finish"> Закончить тест </a>
                </div>
            </div>
        </div>
    </div>
</div>

</div>

<script language="JavaScript" type="text/javascript" src="public/libs/jquery/dist/jquery.min.js"></script>
<script language="JavaScript" type="text/javascript" src="public/libs/popper.js/dist/umd/popper.js"></script>
<script language="JavaScript" type="text/javascript" src="public/libs/bootstrap/dist/js/bootstrap.min.js"></script>

<script>
    $(document).ready(function () {
        $('img[src$=".svg"]').each(function() {
            var $img = jQuery(this);
            var imgURL = $img.attr('src');
            var attributes = $img.prop("attributes");

            $.get(imgURL, function(data) {
                // Get the SVG tag, ignore the rest
                var $svg = jQuery(data).find('svg');

                // Remove any invalid XML tags
                $svg = $svg.removeAttr('xmlns:a');

                // Loop through IMG attributes and apply on SVG
                $.each(attributes, function() {
                    $svg.attr(this.name, this.value);
                });

                // Replace IMG with SVG
                $img.replaceWith($svg);
            }, 'xml');
        });

        var questions = [
            {id: 1, text: 'Перечислите 5 правил, которыми руководствуется Дитер Рамс при создании дизайна'},
            {id: 2, text: 'Назовите основную причину вытеснения ремеслинников с рынка в 18 веке'},
            {id: 3, text: 'Основная ошибка Генри Форда после успешного выпуска «Модель Т»'},
            {id: 4, text: 'Три вида структурирования мыслей при создании скетчей'},
            {id: 5, text: 'Самые распространенные модели визуальных заметок'},
            {id: 6, text: 'Назовите главное отличие направления дизайна Европы и Америки'},
            {id: 7, text: 'Чего следует избегать при использовании принципа повторения'},
            {id: 8, text: 'С какой целью Гитлер разъезжал на Volkswagen в день выборов и день рождения'},
            {id: 9, text: 'Вы создаете изображение для сайта. Оно должно быть в CMYK или RGB'},
            {id: 10, text: 'В каком году журнал Times назвал стул Charles and Ray Eames «Стул столетия»'}
        ];

        var step = 1;
        var max = questions.length;
        $('.finish').hide();
        $('.max').html(`${max}`);
        updateContent(step);
        updateProgressBar(step);

        $('.skip').on('click', function() {
            if (step < max) {
                step = ++step;
            }
            if (step == max) {
                $('.skip').hide();
                $('.finish').show();
            }
            updateContent(step);
            updateProgressBar(step);
        });

        function updateContent(step) {
            $('.step').map(function() {
                return $(this).html(`${step}`);
            })
            $('.question').html(`${questions[step-1].text}.`);
        }

        function updateProgressBar(step) {
            $('.progress-bar').map(function() {
                if ($(this).hasClass(`w-${step-1}0`)) {
                    $(this).removeClass(`w-${step-1}0`);
                }
                $(this).addClass(`w-${step}0`);
                return $(this);
            }).get();
        }
    });
</script>
</body>
</html>